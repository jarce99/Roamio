let CACHE_NAME="roamio-cache-v1",OFFLINE_URL="/offline",urlsToCache=["/","/offline","/assets/theme.css","/assets/theme.js","/assets/critical.js"];self.addEventListener("install",e=>{e.waitUntil(caches.open(CACHE_NAME).then(e=>e.addAll(urlsToCache)))}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.filter(e=>e.startsWith("roamio-cache-")&&e!==CACHE_NAME).map(e=>caches.delete(e)))).then(()=>self.clients.claim()))}),self.addEventListener("fetch",s=>{"navigate"===s.request.mode?s.respondWith(fetch(s.request).catch(()=>caches.match(OFFLINE_URL))):s.respondWith(caches.match(s.request).then(e=>e||fetch(s.request).then(e=>{if(e&&200===e.status&&"basic"===e.type){let t=e.clone();caches.open(CACHE_NAME).then(e=>{e.put(s.request,t)})}return e})))}),self.addEventListener("sync",e=>{"submit-form"===e.tag&&e.waitUntil(processQueuedSubmissions())}),self.addEventListener("push",e=>{var t={body:e.data.text(),icon:"/assets/notification-icon.png",badge:"/assets/notification-badge.png",vibrate:[100,50,100],data:{dateOfArrival:Date.now(),primaryKey:1},actions:[{action:"explore",title:"View Details"},{action:"close",title:"Close"}]};e.waitUntil(self.registration.showNotification("Roamio eSIM Update",t))}),self.addEventListener("notificationclick",e=>{e.notification.close(),"explore"===e.action&&e.waitUntil(clients.openWindow("https://roamiomobile.com/account"))});