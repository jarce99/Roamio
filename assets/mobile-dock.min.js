customElements.get("mobile-dock")||customElements.define("mobile-dock",class extends HTMLElement{constructor(){super(),Shopify.designMode?this.init():new theme.initWhenVisible(theme.utils.throttle(this.init.bind(this)))}get section(){return this._section=this._section||this.closest(".mobile-dock-section")}init(){this.initialized||(this.initialized=!0,this.setAttribute("loaded",""),this.detectForHeader(),this.detectForFooter(),setTimeout(this.setHeight.bind(this)),document.addEventListener("matchSmall",this.setHeight.bind(this)),Shopify.designMode&&(this.section.addEventListener("shopify:section:select",()=>{this.section.classList.add("shopify-active")}),this.section.addEventListener("shopify:section:deselect",()=>{this.section.classList.remove("shopify-active")})))}detectForHeader(){var t=document.querySelector(".header-section");null===t?this.section.classList.add("active"):t.classList.contains("header-sticky")||(this.scrollY=parseInt(t.getBoundingClientRect().bottom),window.addEventListener("scroll",theme.utils.throttle(this.onScrollForHeader.bind(this)),!1))}onScrollForHeader(){window.scrollY>=this.scrollY?this.section.classList.add("active"):this.section.classList.remove("active")}detectForFooter(){null!==document.querySelector(".footer-copyright")&&window.addEventListener("scroll",theme.utils.throttle(this.onScrollForFooter.bind(this)),!1)}onScrollForFooter(){var t,e;theme.config.mqlSmall&&(t=window.scrollY+window.innerHeight,e=this.offsetHeight,e=document.body.scrollHeight-e<=t,this.classList.toggle("active",e))}setHeight(){document.documentElement.style.setProperty("--mobile-dock-height",this.offsetHeight+"px")}});