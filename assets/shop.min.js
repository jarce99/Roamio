document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-cart-button]").forEach(t=>{t.addEventListener("click",function(t){t.preventDefault();var t=this.dataset.variantId,e=parseInt(this.dataset.quantity||1);fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:t,quantity:e}]})}).then(t=>t.json()).then(t=>{fetch("/cart.js").then(t=>t.json()).then(t=>{var e=document.querySelector("[data-cart-count]");e&&(e.textContent=t.item_count,e.classList.toggle("hidden",0===t.item_count))});{let t=document.createElement("div");t.className="cart-notification",t.textContent="Item added to cart",document.body.appendChild(t),setTimeout(()=>{t.remove()},3e3)}}).catch(t=>{console.error("Error:",t)})})})});